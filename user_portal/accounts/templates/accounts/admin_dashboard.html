{% extends 'accounts/base.html' %}
{% block title %}Admin Dashboard{% endblock %}
{% block content %}
<div class="container-fluid">
    <h2 class="text-primary mt-3">Welcome Admin, {{ name }}!</h2>
    <p class="text-secondary mb-4">Email: {{ email }}</p>

    <h4>Add New Product</h4>
    <form method="post" class="mb-4">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="btn btn-primary">Add Product</button>
    </form>

    <h4>Products List</h4>
    <table class="table table-striped table-hover table-bordered w-100">
      <thead class="table-dark">
        <tr>
          <th>Name</th>
          <th>Quantity</th>
          <th>Price</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr>
          <td>{{ product.name }}</td>
          <td>{{ product.quantity }}</td>
          <td>${{ product.price }}</td>
          <td>
  <a href="{% url 'product_edit' product.id %}" class="btn btn-warning btn-sm mx-1">Edit</a>
  <a href="{% url 'product_delete' product.id %}" class="btn btn-danger btn-sm mx-1" onclick="return confirm('Are you sure you want to delete this product?');">Delete</a>
</td>

        </tr>
        {% empty %}
        <tr><td colspan="4">No products available.</td></tr>
        {% endfor %}
      </tbody>
    </table>
</div>
{% endblock %}

